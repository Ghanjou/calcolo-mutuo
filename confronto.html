<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confronto Affitto vs Acquisto - CalcolaMutuo</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100">
    <!-- Navigation Bar -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <a href="index.html" class="flex items-center">
                            <div class="bg-blue-600 text-white font-bold text-xl p-2 rounded-lg">CM</div>
                            <span class="ml-2 text-xl font-semibold text-gray-800">CalcolaMutuo</span>
                        </a>
                    </div>
                </div>
                <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                    <a href="mutuo.html" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                        Simulatore Mutuo
                    </a>
                    <a href="confronto.html" class="border-blue-500 text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                        Confronto Affitto vs Acquisto
                    </a>
                    <a href="piano-ammortamento.html" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                        Piano di Ammortamento
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6">
            <h1 class="text-2xl font-bold text-center text-gray-800 mb-8">Confronto Affitto vs Acquisto</h1>
            
            <form id="mutuo-form" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Sezione Mutuo -->
                    <div class="space-y-4">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4">Dettagli Acquisto Casa</h2>
                        <div class="mb-4">
                            <button id="loadData" class="mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200">
                                Carica Dati dal Simulatore Mutuo
                            </button>
                        </div>
                        <div class="form-group">
                            <label for="costoTotale" class="block text-sm font-medium text-gray-700">Costo totale dell'immobile (€)</label>
                            <input type="number" id="costoTotale" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>

                        <div class="form-group">
                            <label for="percentualeMutuo" class="block text-sm font-medium text-gray-700">Percentuale del mutuo (%)</label>
                            <input type="number" id="percentualeMutuo" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" min="0" max="100" required>
                        </div>

                        <div class="form-group">
                            <label for="tassoInteresse" class="block text-sm font-medium text-gray-700">Tasso di interesse annuo (%)</label>
                            <input type="number" id="tassoInteresse" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" step="0.01" required>
                        </div>

                        <div class="form-group">
                            <label for="durata" class="block text-sm font-medium text-gray-700">Durata del mutuo (anni)</label>
                            <input type="number" id="durata" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" min="1" max="40" required>
                        </div>

                        <div class="form-group">
                            <label for="speseAcquisto" class="block text-sm font-medium text-gray-700">Spese di acquisto (tasse, notaio, ecc.) (%)</label>
                            <input type="number" id="speseAcquisto" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="10" min="0" max="100" required>
                        </div>

                        <div class="mt-6">
                            <h3 class="text-lg font-semibold text-gray-800 mb-3">Spese Ricorrenti (Proprietà)</h3>
                            
                            <div class="form-group">
                                <label for="speseCondominialiAcquisto" class="block text-sm font-medium text-gray-700">Spese condominiali mensili (€)</label>
                                <input type="number" id="speseCondominialiAcquisto" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="0" min="0" required>
                            </div>

                            <div class="form-group">
                                <label for="impostaCatastale" class="block text-sm font-medium text-gray-700">IMU annuale (€)</label>
                                <input type="number" id="impostaCatastale" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="0" min="0" required>
                            </div>

                            <div class="form-group">
                                <label for="assicurazioneCasa" class="block text-sm font-medium text-gray-700">Assicurazione casa annuale (€)</label>
                                <input type="number" id="assicurazioneCasa" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="0" min="0" required>
                            </div>

                            <div class="form-group">
                                <label for="manutenzioneStraordinaria" class="block text-sm font-medium text-gray-700">Accantonamento annuo per manutenzione straordinaria (€)</label>
                                <input type="number" id="manutenzioneStraordinaria" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="0" min="0" required>
                            </div>
                        </div>
                    </div>

                    <!-- Sezione Affitto -->
                    <div class="space-y-4">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4">Dettagli Affitto</h2>
                        <div class="form-group">
                            <label for="affittoMensile" class="block text-sm font-medium text-gray-700">Affitto mensile attuale (€)</label>
                            <input type="number" id="affittoMensile" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>

                        <div class="form-group">
                            <label for="aumentoAnnuoAffitto" class="block text-sm font-medium text-gray-700">Aumento annuo previsto dell'affitto (%)</label>
                            <input type="number" id="aumentoAnnuoAffitto" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="2" min="0" step="0.1" required>
                        </div>

                        <div class="mt-6">
                            <h3 class="text-lg font-semibold text-gray-800 mb-3">Spese Ricorrenti (Affitto)</h3>

                            <div class="form-group">
                                <label for="speseCondominiali" class="block text-sm font-medium text-gray-700">Spese condominiali mensili (€)</label>
                                <input type="number" id="speseCondominiali" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="0" min="0" required>
                            </div>

                            <div class="form-group">
                                <label for="speseRiscaldamento" class="block text-sm font-medium text-gray-700">Spese riscaldamento mensili (€)</label>
                                <input type="number" id="speseRiscaldamento" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="0" min="0" required>
                            </div>

                            <div class="form-group">
                                <label for="tari" class="block text-sm font-medium text-gray-700">TARI annuale (€)</label>
                                <input type="number" id="tari" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="0" min="0" required>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                    Calcola Confronto
                </button>
            </form>

            <div id="risultati" class="mt-8 hidden">
                <h2 class="text-xl font-semibold mb-4 text-gray-800">Risultati del calcolo</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Risultati Mutuo -->
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold mb-3 text-blue-800">Costi Acquisto Casa</h3>
                        <div class="space-y-2">
                            <p class="text-gray-700">Importo totale del mutuo: <span id="importoTotale" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Rata mensile mutuo: <span id="rataMensile" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Totale interessi da pagare: <span id="totaleInteressi" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Spese di acquisto: <span id="totaleSpese" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Spese condominiali mensili: <span id="speseCondAcquistoDisplay" class="font-bold"></span> €</p>
                            <p class="text-gray-700">IMU annuale: <span id="imuDisplay" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Assicurazione annuale: <span id="assicurazioneDisplay" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Accantonamento manutenzione: <span id="manutenzioneDisplay" class="font-bold"></span> €</p>
                            <div class="border-t border-blue-200 mt-4 pt-4">
                                <p class="text-gray-700 font-semibold">Totale costi di proprietà: <span id="totaleCostiProprieta" class="font-bold"></span> €</p>
                            </div>
                        </div>
                    </div>

                    <!-- Risultati Affitto -->
                    <div class="bg-green-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold mb-3 text-green-800">Costi Affitto</h3>
                        <div class="space-y-2">
                            <p class="text-gray-700">Affitto mensile iniziale: <span id="affittoInizialeDisplay" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Affitto mensile finale: <span id="affittoFinaleDisplay" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Totale affitto nel periodo: <span id="totaleAffitto" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Spese condominiali mensili: <span id="speseCondDisplay" class="font-bold"></span> €</p>
                            <p class="text-gray-700">Spese riscaldamento mensili: <span id="riscaldamentoDisplay" class="font-bold"></span> €</p>
                            <p class="text-gray-700">TARI annuale: <span id="tariDisplay" class="font-bold"></span> €</p>
                            <div class="border-t border-green-200 mt-4 pt-4">
                                <p class="text-gray-700 font-semibold">Totale costi affitto: <span id="costoTotaleAffitto" class="font-bold"></span> €</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Confronto Finale -->
                <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-lg font-semibold mb-3 text-gray-800">Analisi Comparativa</h3>
                    <div id="confrontoFinale" class="text-lg font-medium">
                        <!-- Populated by JavaScript -->
                    </div>
                    <div id="confrontoMensile" class="mt-4 text-md text-gray-600">
                        <!-- Populated by JavaScript -->
                    </div>
                    
                    <!-- Graph Section -->
                    <div class="mt-6">
                        <h3 class="text-lg font-semibold mb-3 text-gray-800">Andamento Costi nel Tempo</h3>
                        <div class="relative h-96">
                            <canvas id="costsChart"></canvas>
                        </div>
                        <p class="text-sm text-gray-600 mt-2 text-center">Il grafico mostra l'andamento dei costi cumulativi nel tempo</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="confronto.js"></script>
</body>
</html> 